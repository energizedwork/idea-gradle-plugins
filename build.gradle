apply plugin: 'idea'
apply plugin: 'groovy'
apply plugin: 'java-gradle-plugin'
apply plugin: 'com.energizedwork.idea-junit'
apply plugin: 'codenarc'

apply from: 'gradle/dependencyRules.gradle'
apply from: 'gradle/idea/idea.gradle'

repositories {
    mavenCentral()
}

dependencies {
    codenarc('org.codenarc:CodeNarc:0.26.0') {
        exclude module: 'GMetrics'
    }

    testCompile 'org.spockframework:spock-core:1.1-groovy-2.4-rc-3'
}

codenarc.configFile = rootProject.file('gradle/codenarc/rulesets.groovy')

gradlePlugin {
    plugins {
        ideaJunitPlugin {
            id = 'com.energizedwork.idea-junit'
            implementationClass = 'com.energizedwork.gradle.idea.IdeaJunitPlugin'
        }
    }
}